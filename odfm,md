# OFDM Summary

ï¼ˆOrthogonal Frequency Division Multiplexingï¼‰

æœ¬æ–‡ä»¶ç‚º OFDMï¼ˆæ­£äº¤åˆ†é »å¤šå·¥ï¼‰çš„å®Œæ•´æŠ€è¡“ç¸½çµï¼Œå¯ä½œç‚º LTE/WiFi/5G èª²ç¨‹æˆ– GitHub æŠ€è¡“æ–‡ä»¶ä½¿ç”¨ã€‚
**æ‰€æœ‰è‹±æ–‡å…§å®¹ç‚ºæŠ€è¡“èªªæ˜ï¼Œä¸­æ–‡ç‚ºæ¸…æ™°æ˜“æ‡‚çš„è§£é‡‹ã€‚**

---

## ğŸ“š Table of Contents

* [1. Introduction](#1-introduction)
* [2. Single-Carrier Limitations](#2-single-carrier-limitations)
* [3. The Idea of OFDM](#3-the-idea-of-ofdm)
* [4. Orthogonality](#4-orthogonality)
* [5. Time Domain vs Frequency Domain](#5-time-domain-vs-frequency-domain)
* [6. FFT/IFFT in OFDM](#6-ffti fft-in-ofdm)
* [7. Subcarriers & Resource Elements](#7-subcarriers--resource-elements)
* [8. OFDM in LTE](#8-ofdm-in-lte)
* [9. Multipath & Cyclic Prefix](#9-multipath--cyclic-prefix)
* [10. Resource Block Structure](#10-resource-block-structure)
* [11. Random Access & Fast Retrial Algorithm](#11-random-access--fast-retrial-algorithm)
* [12. Mathematical Analysis](#12-mathematical-analysis)
* [13. Summary Diagram](#13-summary-diagram)
* [14. References](#14-references)

---

# 1. Introduction

**Orthogonal Frequency Division Multiplexing (OFDM)** is a multi-carrier modulation scheme where data is transmitted over many orthogonal subcarriers.

ä¸­æ–‡è§£èªªï¼š
OFDM æ˜¯ä¸€ç¨®ã€ŒæŠŠè³‡æ–™åˆ†æ•£åˆ°å¾ˆå¤šå°é »é“ã€ä¸Šå‚³é€çš„æŠ€è¡“ï¼Œæ¯å€‹å°é »é“å« subcarrierï¼Œå½¼æ­¤äº’ä¸å¹²æ“¾ï¼ˆæ­£äº¤ï¼‰ã€‚

---

# 2. Single-Carrier Limitations

High-rate transmission â†’ short symbol duration â†’ strong ISI.

ä¸­æ–‡è§£èªªï¼š
å¦‚æœå–®è¼‰æ³¢è¦å‚³é«˜é€Ÿè³‡æ–™ï¼Œç¬¦è™Ÿæ™‚é–“æœƒè®Šå¾ˆçŸ­ Ts â†“ï¼Œæ–¼æ˜¯ã€Œå‰ä¸€å€‹ç¬¦è™Ÿçš„å°¾å·´ã€æœƒå¹²æ“¾ä¸‹ä¸€å€‹ï¼ˆISI å•é¡Œï¼‰ã€‚

ASCII ç¤ºæ„ï¼š

```
time â†’
|symbol1|symbol2|
       â†‘ overlap = ISI
```

---

# 3. The Idea of OFDM

Instead of sending one fast symbol stream, OFDM splits it into many parallel low-rate streams.

ä¸­æ–‡è§£èªªï¼š
OFDM æŠŠé«˜é€Ÿè³‡æ–™ã€Œåˆ‡æˆå¾ˆå¤šæ…¢é€Ÿå°æµã€ï¼Œæ¯æµçµ¦ä¸€å€‹ subcarrierã€‚æ¯å€‹ subcarrier éƒ½æ…¢ï¼Œæ‰€ä»¥ä¸æ€• ISIã€‚

---

# 4. Orthogonality

Two subcarriers are orthogonal if:

$$
\int_0^T \sin(2\pi f_k t)\sin(2\pi f_m t) dt = 0,\quad k \neq m
$$

ä¸­æ–‡è§£èªªï¼š
åªè¦ subcarrier ä¹‹é–“é »ç‡å·®å‰›å¥½æ˜¯å›ºå®šå€æ•¸ï¼Œå®ƒå€‘çš„ç©åˆ†å°±æœƒæ˜¯ 0 â†’ å®Œå…¨ä¸å¹²æ“¾ã€‚

ASCIIï¼š

```
sinc 1:  |~~~~peak~~~~|
sinc 2:        |~~~~peak~~~~|
sinc zero point falls at other's peak â†’ no interference
```

---

# 5. Time Domain vs Frequency Domain

FFT transforms time â†’ frequency.
IFFT transforms frequency â†’ time.

ä¸­æ–‡è§£èªªï¼š
FFT æŠŠæ™‚åŸŸæ³¢å½¢æ‹†æˆé »ç‡æˆåˆ†ï¼›IFFT æŠŠ subcarriers åŠ èµ·ä¾†è®Šæˆå¯¦éš› OFDM æ³¢å½¢ã€‚

---

# 6. FFT/IFFT in OFDM

OFDM transmitter:

```
bits â†’ QPSK/QAM mapping â†’ IFFT â†’ add Cyclic Prefix â†’ DAC â†’ TX
```

Receiver:

```
RX â†’ remove CP â†’ FFT â†’ demapping â†’ bits
```

ä¸­æ–‡è§£èªªï¼š
ç™¼é€ç«¯ç”¨ IFFT åˆæˆ OFDMï¼›æ¥æ”¶ç«¯ç”¨ FFT æ‹†é–‹ subcarriersã€‚

---

# 7. Subcarriers & Resource Elements

**1 Resource Element (RE)** = 1 subcarrier Ã— 1 OFDM symbol.

Modulation bits per symbol:

| Modulation | Bits |
| ---------- | ---- |
| QPSK       | 2    |
| 16QAM      | 4    |
| 64QAM      | 6    |

ä¸­æ–‡è§£èªªï¼š
ä¸€å€‹ RE å°±æ˜¯ä¸€å€‹ã€Œå°æ ¼å­ã€ã€‚èª¿è®Šè¶Šé«˜ bits è¶Šå¤šã€‚

---

# 8. OFDM in LTE

LTE uses:

* **Subcarrier spacing = 15 kHz**
* **OFDM symbol duration = 66.67 Âµs**

ä¸­æ–‡ï¼š
LTE æ‰€æœ‰ subcarrier æ°¸é ç›¸éš” 15 kHzï¼Œä¸æœƒè®Šã€‚é »å¯¬è®Šå¤§ â†’ subcarrier æ•¸è®Šå¤šã€‚

---

# 9. Multipath & Cyclic Prefix

Multipath causes ISI.
Cyclic Prefix (CP) solves it by copying the tail of the symbol.

ASCIIï¼š

```
|---symbol---|
|CP|
```

ä¸­æ–‡è§£èªªï¼š
CP æ˜¯ã€Œè¤‡è£½ä¸€æ®µå°¾å·´åˆ°å‰é¢ã€ï¼Œè®“å¤šè·¯å¾‘çš„å»¶é²ä¸æœƒç ´å£æ­£äº¤æ€§ã€‚

---

# 10. Resource Block Structure

1 RB = **12 subcarriers Ã— 7 symbols = 84 RE**

ASCIIï¼š

```
(12 SC)
---------------
|x|x|x|x|x|x|
|x|x|x|x|x|x|  â†’ 7 symbols
|x|x|x|x|x|x|
---------------
```

ä¸­æ–‡è§£èªªï¼š
RB æ˜¯ LTE ä¸­æœ€å°å¯æ’ç¨‹å–®ä½ï¼Œscheduler åªæœƒåˆ† RBï¼Œä¸æœƒåˆ† REã€‚

---

# 11. Random Access & Fast Retrial Algorithm

RACH is used for:

* initial access
* resource request
* reestablish connection

Fast retrial algorithm:

* Based on slotted Aloha
* UE retries in **next slot**
* UE chooses **different frequency channel**
* After M retries â†’ random backoff

ä¸­æ–‡è§£èªªï¼š
RACH æ˜¯æŒ‰é–€éˆ´ã€‚UE åœ¨æ’è»Šï¼ˆcollisionï¼‰å¾Œï¼š

1. ä¸‹ä¸€å€‹ slot é¦¬ä¸Šé‡è©¦ï¼ˆfastï¼‰
2. æ›å¦ä¸€æ¢é »ç‡ï¼ˆspread in frequencyï¼‰
3. è¶…é M æ¬¡æ‰ backoffï¼ˆç­‰ä¸€ä¸‹å†è©¦ï¼‰

ASCIIï¼š

```
time â†’
freq â†“
[ ] [x] [ ]  â† collision
     â†“ retry
[ ] [ ] [x]  â† moved to new freq
```

---

# 12. Mathematical Analysis

Arrival rate:

$$
\lambda_T = \lambda + p\gamma\lambda_T
$$

Collision probability:

$$
p = 1 - e^{-\lambda_T/N}
$$

Fast retrial ratio:

$$
\gamma = \frac{1 - p^M}{1 - p^{M+1}}
$$

Throughput:

$$
T = \lambda_T e^{-\lambda_T/N}
$$

ä¸­æ–‡è§£èªªï¼š
é€™äº›å…¬å¼æè¿°ï¼š

* Î»â‚œï¼šæ‰€æœ‰ UEï¼ˆæ–°ï¼‹é‡è©¦ï¼‰
* pï¼šæ’è»Šç‡
* Î³ï¼šé‡è©¦æ¯”ä¾‹
* Tï¼šååé‡ï¼ˆæˆåŠŸçš„ UEï¼‰

---

# 13. Summary Diagram

```
                 +-------+
bits â†’ mapping â†’ | IFFT | â†’ add CP â†’ TX
                 +-------+

RX â†’ remove CP â†’ +------+ â†’ demap â†’ bits
                 | FFT  |
                 +------+
```

ä¸­æ–‡è§£èªªï¼š
ä¸Šé¢æ˜¯ OFDM çš„å®Œæ•´æµç¨‹åœ–ã€‚

---

# 14. References

* 3GPP TS 36.211 Physical Channels
* EE4316 Lecture Notes
* Rappaport - Wireless Communications
* Proakis - Digital Communications

---
